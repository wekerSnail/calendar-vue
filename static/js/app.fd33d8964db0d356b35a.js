webpackJsonp([1],{EWIa:function(e,t){},Gtq6:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("7+uW"),n=i("mvHQ"),r=i.n(n),s=[{realTime:"2018-09-01",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-02",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-03",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-04",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-05",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-06",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-07",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-08",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-09",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-10",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-11",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-12",price:"0.01",remainingCount:"6",status:"1"},{realTime:"2018-09-13",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-14",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-15",price:"0.01",remainingCount:"5",status:"1"},{realTime:"2018-09-16",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-17",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-18",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-19",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-20",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-21",price:"0.01",remainingCount:"4",status:"1"},{realTime:"2018-09-22",price:"0.01",remainingCount:"3",status:"1"},{realTime:"2018-09-23",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-24",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-25",price:"0.01",remainingCount:"5",status:"1"},{realTime:"2018-09-26",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-09-27",price:"0.01",remainingCount:"5",status:"1"},{realTime:"2018-09-28",price:"0.01",remainingCount:"7",status:"1"},{realTime:"2018-09-29",price:"0.01",remainingCount:"3",status:"1"},{realTime:"2018-09-30",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-01",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-02",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-03",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-04",price:"0.01",remainingCount:"2",status:"1"},{realTime:"2018-10-05",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-06",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-07",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-08",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-09",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-10",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-11",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-12",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-13",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-14",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-15",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-16",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-17",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-18",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-19",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-20",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-21",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-22",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-23",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-24",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-25",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-26",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-27",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-28",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-29",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-30",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-10-31",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-01",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-02",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-03",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-04",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-05",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-06",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-07",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-08",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-09",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-10",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-11",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-12",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-13",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-14",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-15",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-16",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-17",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-18",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-19",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-20",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-21",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-22",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-23",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-24",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-25",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-26",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-27",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-28",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-29",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-11-30",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-01",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-02",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-03",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-04",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-05",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-06",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-07",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-08",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-09",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-10",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-11",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-12",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-13",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-14",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-15",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-16",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-17",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-18",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-19",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-20",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-21",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-22",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-23",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-24",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-25",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-26",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-27",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-28",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-29",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-30",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2018-12-31",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-01",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-02",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-03",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-04",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-05",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-06",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-07",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-08",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-09",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-10",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-11",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-12",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-13",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-14",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-15",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-16",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-17",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-18",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-19",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-20",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-21",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-22",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-23",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-24",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-25",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-26",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-27",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-28",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-29",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-30",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-01-31",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-01",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-02",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-03",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-04",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-05",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-06",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-07",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-08",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-09",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-10",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-11",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-12",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-13",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-14",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-15",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-16",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-17",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-18",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-19",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-20",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-21",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-22",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-23",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-24",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-25",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-26",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-27",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-02-28",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-01",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-02",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-03",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-04",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-05",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-06",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-07",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-08",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-09",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-10",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-11",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-12",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-13",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-14",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-15",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-16",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-17",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-18",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-19",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-20",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-21",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-22",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-23",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-24",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-25",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-26",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-27",price:"0.01",remainingCount:"8",status:"1"},{realTime:"2019-03-28",price:"0.01",remainingCount:"8",status:"1"}],m=function(e,t){if(!e)return"";var i=new Date(e),a=i.getFullYear(),n=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,r=i.getDate()<10?"0"+i.getDate():i.getDate(),s=i.getHours(),m=i.getMinutes(),u=i.getSeconds();return t?a+"-"+n+"-"+r+" "+s+":"+m+":"+u:a+"-"+n+"-"+r},u=function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari")}}(),o=((navigator.browserLanguage||navigator.language).toLowerCase(),{props:{productId:{required:!1,type:String,default:""},limitNum:{required:!1,type:Number,default:0},start_time:{required:!1,type:String,default:""},end_time:{required:!1,type:String,default:""},month_num:{required:!1,type:Number,default:6}},watch:{openCal:function(e){this.show=e}},data:function(){return{timeout:"",leap:[31,29,31,30,31,30,31,31,30,31,30,31],ordinary:[31,28,31,30,31,30,31,31,30,31,30,31],now_day:"",now_month:"",now_year:"",end_month:"",end_year:"",now_day_time:"",datas:[],temp_data:[],oldData:[],chose_start:"2018-09-14",chose_end:"2018-09-16",show:this.openCal}},methods:{close:function(){this.show=!1,this.$emit("close",!1)},format_time:function(e){var t=e.split("-");return t[0]+"年"+t[1]+"月"},sure:function(){if(this.chose_start&&this.chose_end){var e="";this.productId&&this.temp_data.length>0&&(e=Number(this.temp_data[0].remainingCount),this.temp_data.forEach(function(t){Number(t.remainingCount)<e&&(e=Number(t.remainingCount))})),this.$emit("calData",r()({start:this.chose_start,end:this.chose_end,min:e})),this.$emit("close",!1)}},whitchWeek:function(e){switch(new Date(e).getDay()){case 0:return"周日";case 1:return"周一";case 2:return"周二";case 3:return"周三";case 4:return"周四";case 5:return"周五";default:return"周六"}},time_compare:function(e,t){return new Date(e)>new Date(t)},chose_state:function(e){var t=this;if(!this.chose_start&&!this.chose_end)return 0;if(this.chose_start&&this.chose_end&&this.productId){(this.temp_data.length>0?this.temp_data:this.oldData.filter(function(e,i){return t.time_compare(e.realTime,t.chose_start)&&t.time_compare(t.chose_end,e.realTime)})).every(function(e){return Number(e.remainingCount)>=t.limitNum})||(this.chose_end="")}return this.chose_start==m(e.realTime)&&this.day_time(this.chose_start)>=this.day_time()?!this.productId||this.productId&&Number(e.remainingCount)>=this.limitNum?1:(this.chose_start="",this.chose_end="",0):this.chose_end==m(e.realTime)?this.chose_start&&this.time_compare(this.chose_end,this.chose_start)?3:(this.chose_end="",0):this.time_compare(e.realTime,this.chose_start)&&this.time_compare(this.chose_end,e.realTime)?2:0},today:function(e){return m(this.day_time(e))==m(this.now_day_time)},chose:function(e,t){var i=this,a=this.chose_start,n=this.chose_end;if(this.temp_data.splice(0,this.temp_data.length),t){if(t&&this.chose_start&&!this.chose_end&&this.time_compare(e.realTime,this.chose_start)&&this.productId){var r=[];this.temp_data=r=this.oldData.filter(function(t,a){return i.time_compare(t.realTime,i.chose_start)&&i.time_compare(e.realTime,t.realTime)}),r.every(function(e){return Number(e.remainingCount)>=i.limitNum})&&(this.chose_end=e.realTime,console.log(this.chose_end,1,"离店"))}}else if(!this.chose_start&&!this.chose_end&&!this.productId||!this.chose_start&&!this.chose_end&&Number(e.remainingCount)>=this.limitNum&&this.productId)this.chose_start=e.realTime;else if(this.chose_start&&this.chose_end)this.chose_start=e.realTime,this.chose_end="";else if(this.chose_start&&!this.chose_end){if(1==(this.day_time(e.realTime)-this.day_time(this.chose_start))/864e5)this.chose_end=e.realTime;else if(this.time_compare(e.realTime,this.chose_start))if(this.productId){var s=[];this.temp_data=s=this.oldData.filter(function(t,a){return i.time_compare(t.realTime,i.chose_start)&&i.time_compare(e.realTime,t.realTime)}),s.every(function(e){return Number(e.remainingCount)>=i.limitNum})?this.chose_end=e.realTime:this.chose_start=e.realTime}else this.chose_end=e.realTime;else this.chose_start=e.realTime,this.chose_end=""}this.data_state_change(a,n,!1)},data_state_change:function(e,t,i){if(e&&!t){for(var a=this.get_year_month(e),n=0;n<this.datas.length;n++)if(this.datas[n].month==a)for(var r=0;r<this.datas[n].days.length;r++)if(this.datas[n].days[r].realTime==e){i?(this.datas[n].days[r].choseState=1,this.datas[n].days[r].hint="入住"):(this.datas[n].days[r].choseState=0,this.get_day(this.datas[n].days[r].realTime)==(new Date).getDate()?this.datas[n].days[r].hint="今天":this.datas[n].days[r].hint="");break}}else if(e&&t)for(var s=this.get_year_month(e),m=this.get_year_month(t),u=0;u<this.datas.length;u++)if(new Date(this.datas[u].month)<=new Date(m)&&new Date(this.datas[u].month)>=new Date(s))for(var o=0;o<this.datas[u].days.length;o++)if(this.datas[u].days[o].realTime==e)i?(this.datas[u].days[o].choseState=1,this.datas[u].days[o].hint="入住"):(this.datas[u].days[o].choseState=0,this.get_day(this.datas[u].days[o].realTime)==(new Date).getDate()?this.datas[u].days[o].hint="今天":this.datas[u].days[o].hint="");else if(this.time_compare(this.datas[u].days[o].realTime,e)&&this.time_compare(t,this.datas[u].days[o].realTime))this.datas[u].days[o].choseState=i?2:0,this.datas[u].days[o].hint="";else if(this.datas[u].days[o].realTime==t){i?(this.datas[u].days[o].choseState=3,this.datas[u].days[o].hint="离店"):(this.datas[u].days[o].choseState=0,this.datas[u].days[o].remainingCount<this.limitNum?this.datas[u].days[o].hint="不足":this.datas[u].days[o].hint="");break}i||this.data_state_change(this.chose_start,this.chose_end,!0)},hint:function(e){this.day_time(this.chose_start),this.day_time(this.chose_end);return e.choseState&&1==e.choseState?"入住":e.choseState&&3==e.choseState?"离店":"0"==e.status&&this.productId?"停售":Number(e.remainingCount)<this.limitNum&&this.productId?"不足":this.today(e.realTime)?"今天":""},noSelect:function(e,t){return!!(this.day_time(t)<this.now_day_time||this.productId&&Number(e.remainingCount)<this.limitNum)},init_Server:function(e){var t=this,i=[],a="";return e.forEach(function(e,n){if(t.get_year_month(e.realTime)!==a){var r=t.month_week_start(t.get_year(e.realTime)+"-"+(t.get_month(e.realTime)+1));i.push({month:t.get_year_month(e.realTime),days:[]});for(var s=0;s<r;s++)i[i.length-1].days.push({})}e.week=t.isWeekend(e.realTime),e.choseState=t.chose_state(e),e.hint=t.hint(e),i[i.length-1].days.push(e),a=t.get_year_month(e.realTime)}),i},init_noServer:function(){for(var e=this,t=[],i=[],a=0;a<this.month_num;a++){var n=new Date;n.setMonth(Number(this.now_month)-1+a);var r=m(n);t.push({month:r.substr(0,7),day_num:this.month_days(r)})}t.forEach(function(t){for(var a={month:t.month,days:[]},n=e.month_week_start(e.get_year(t.month)+"-"+(e.get_month(t.month)+1))-1,r=0;r<=Number(t.day_num)+n;r++)if(a.days[r]={},r>n){var s=r-n<10?"0"+(r-n):r-n,m=a.days[r].realTime=t.month+"-"+s;a.days[r].week=e.isWeekend(m);var u=a.days[r].choseState=e.chose_state({realTime:m});a.days[r].hint=e.hint({choseState:u,realTime:m})}i.push(a)}),this.datas=i},day_time:function(e){return e?new Date(new Date(e).setHours(0,0,0,0)):new Date((new Date).setHours(0,0,0,0))},get_month:function(e){return new Date(e).getMonth()},get_year_month:function(e){return new Date(e).getFullYear()+"-"+(new Date(e).getMonth()+1<10?"0"+(new Date(e).getMonth()+1):new Date(e).getMonth()+1)},get_year:function(e){return new Date(e).getFullYear()},get_day:function(e){return e?new Date(e).getDate():""},leap_year:function(e){return e%4==0&&e%100!=0||e%400==0},month_week_start:function(e){var t=e.substring(5,e.length),i=e.substring(0,4);return Number(t)<10&&(t="0"+t),Number(new Date(i+"-"+t).getDay())},month_days:function(e){var t=new Date(e).getFullYear();return(this.leap_year(t)?this.leap:this.ordinary)[new Date(e).getMonth()]},get_end_month:function(){if(this.now_month){var e=new Date;return e.setMonth(Number(this.now_month)-1+Number(this.month_num)),{month:e.getMonth()<10?"0"+e.getMonth():e.getMonth(),year:e.getFullYear()}}return{month:"",year:""}},isWeekend:function(e){var t=new Date(e).getDay();return 6===t||0==t}},computed:{start_info:function(){return this.chose_start?{day:(this.get_month(this.chose_start)+1<10?"0"+(this.get_month(this.chose_start)+1):this.get_month(this.chose_start)+1)+"月"+this.get_day(this.chose_start)+"日",week:this.whitchWeek(this.chose_start)}:{day:"----",week:"----"}},end_info:function(){return this.chose_end?{day:(this.get_month(this.chose_end)+1<10?"0"+(this.get_month(this.chose_end)+1):this.get_month(this.chose_end)+1)+"月"+this.get_day(this.chose_end)+"日",week:this.whitchWeek(this.chose_end)}:{day:"---",week:"----"}},nights:function(){return this.chose_start&&this.chose_end?(this.day_time(this.chose_end)-this.day_time(this.chose_start))/24/60/60/1e3:""}},mounted:function(){this.timeout=window.setTimeout(function(){new function(e){document.querySelector(e)&&u.ios&&(console.log("加载滚动"),this.popupLayer=document.querySelector(e),this.startX=0,this.startY=0,this.popupLayer.addEventListener("touchstart",function(e){this.startX=e.changedTouches[0].pageX,this.startY=e.changedTouches[0].pageY},!1),this.popupLayer.addEventListener("touchmove",function(e){if(e.stopPropagation(),u.ios){var t=e.changedTouches[0].pageX-this.startX,i=e.changedTouches[0].pageY-this.startY;return!(Math.abs(i)<Math.abs(t))&&(this.offsetHeight+this.scrollTop>=this.scrollHeight&&i<0?(e.preventDefault(),!1):0===this.scrollTop&&i>0?(e.preventDefault(),!1):void 0)}},!1),document.addEventListener("touchmove",function(e){e.cancelable&&(e.defaultPrevented||(e.preventDefault(),e.stopPropagation()))},!1))}(".calendar-date")},250)},destroyed:function(){window.clearTimeout(this.timeout)},created:function(){this.now_day=Number((new Date).getDate())<10?"0"+(new Date).getDate():(new Date).getDate(),this.now_month=Number((new Date).getMonth()+1)<10?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1,this.now_year=(new Date).getFullYear();var e=this.get_end_month();this.end_month=e.month,this.end_year=e.year,this.now_day_time=this.day_time(this.now_year+"-"+this.now_month+"-"+this.now_day);this.month_days(this.end_year+"-"+this.end_month);this.chose_start=this.start_time,this.chose_end=this.end_time,this.productId?(this.oldData=s,this.datas=this.init_Server(this.oldData)):this.init_noServer()}}),c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"calendar"},[i("ul",{staticClass:"calendar-header"},[e._m(0),e._v(" "),i("li",{staticClass:"date-selected"},[i("span",{staticClass:"left"},[e._v(e._s(e.start_info.day))]),e._v(" "),i("label",[e._v(e._s(e.nights?"共"+e.nights+"晚":""))]),e._v(" "),i("span",{staticClass:"right"},[e._v(e._s(e.end_info.day))])]),e._v(" "),i("li",{staticClass:"week-selected"},[i("span",{staticClass:"left"},[e._v(e._s(e.start_info.week))]),e._v(" "),i("span",{staticClass:"right"},[e._v(e._s(e.end_info.week))])])]),e._v(" "),e._m(1),e._v(" "),i("div",{staticClass:"calendar-date"},e._l(e.datas,function(t){return e.datas.length>0?i("ul",{key:t.month},[i("h3",[e._v(e._s(e.format_time(t.month)))]),e._v(" "),e._l(t.days,function(t){return i("li",{key:t.realTime,class:{"no-room":"不足"==t.hint,"no-select":e.noSelect(t,t.realTime),weekend:t.week,today:e.today(t.realTime),"area-selected":2==t.choseState,"date-begin":1==t.choseState,"date-end":3==t.choseState},on:{click:function(i){e.chose(t,e.noSelect(t,t.realTime))}}},[i("p",[e._v(e._s(e.get_day(t.realTime)?e.get_day(t.realTime):" "))]),e._v(" "),i("p",[e._v(e._s(t.hint?t.hint:" "))])])})],2):e._e()})),e._v(" "),i("ul",{staticClass:"bottom-opration fixed-bottom",on:{click:e.sure}},[i("i",{staticClass:"submit submit-normal",class:{grey:!e.chose_start||!e.chose_end}},[e._v(e._s(e.chose_start&&e.chose_end?"确认选择":"请选择离店日期"))])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("span",{staticClass:"left"},[this._v("入住日期")]),this._v(" "),t("span",{staticClass:"right"},[this._v("离开日期")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"calendar-week"},[i("li",[e._v("日")]),e._v(" "),i("li",[e._v("一")]),e._v(" "),i("li",[e._v("二")]),e._v(" "),i("li",[e._v("三")]),e._v(" "),i("li",[e._v("四")]),e._v(" "),i("li",[e._v("五")]),e._v(" "),i("li",[e._v("六")])])}]};var h={name:"App",components:{calendar:i("VU/8")(o,c,!1,function(e){i("rB+Q"),i("Gtq6")},"data-v-2f8ff090",null).exports},data:function(){return{show:!0,id:"test"}},created:function(){var e=document.createElement("style");function t(){var t=1*document.documentElement.clientWidth/10;e.innerHTML="html{font-size:"+t+"px!important;}"}document.documentElement.firstElementChild.appendChild(e),t(),window.onresize=t}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("calendar")],1)},staticRenderFns:[]};var g=i("VU/8")(h,l,!1,function(e){i("XLLZ")},null,null).exports;i("EWIa"),i("S/Wz");a.a.config.productionTip=!1,new a.a({el:"#app",components:{App:g},template:"<App/>"})},"S/Wz":function(e,t){},XLLZ:function(e,t){},"rB+Q":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.fd33d8964db0d356b35a.js.map